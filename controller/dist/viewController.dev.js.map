{"version":3,"sources":["viewController.js"],"names":["Tour","require","catchAsync","getOverview","req","res","next","find","tours","status","render","title","getTour","findOne","slug","params","populate","path","fields","tour","module","exports"],"mappings":";;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,qBAAD,CAApB;;AACA,IAAMC,UAAU,GAAGD,OAAO,CAAC,qBAAD,CAA1B;;AAEA,IAAME,WAAW,GAAGD,UAAU,CAAC,iBAAOE,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAETN,IAAI,CAACO,IAAL,EAFS;;AAAA;AAEvBC,UAAAA,KAFuB;AAI7B;AACA;AACAH,UAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,MAAhB,CAAuB,UAAvB,EAAmC;AACjCC,YAAAA,KAAK,EAAE,WAD0B;AAEjCH,YAAAA,KAAK,EAALA;AAFiC,WAAnC;;AAN6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAD,CAA9B;AAYA,IAAMI,OAAO,GAAGV,UAAU,CAAC,kBAAOE,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACNL,IAAI,CAACa,OAAL,CAAa;AAAEC,YAAAA,IAAI,EAAEV,GAAG,CAACW,MAAJ,CAAWD;AAAnB,WAAb,EAAwCE,QAAxC,CAAiD;AAClEC,YAAAA,IAAI,EAAE,SAD4D;AAElEC,YAAAA,MAAM,EAAE;AAF0D,WAAjD,CADM;;AAAA;AACnBC,UAAAA,IADmB;AAMzBd,UAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,MAAhB,CAAuB,MAAvB,EAA+B;AAC7BC,YAAAA,KAAK,EAAE,iBADsB;AAE7BQ,YAAAA,IAAI,EAAJA;AAF6B,WAA/B;;AANyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAD,CAA1B;AAYAC,MAAM,CAACC,OAAP,GAAiB;AACflB,EAAAA,WAAW,EAAXA,WADe;AAEfS,EAAAA,OAAO,EAAPA;AAFe,CAAjB","sourcesContent":["const Tour = require(\"../model/tourSchema\");\r\nconst catchAsync = require(\"../utils/catchAsync\");\r\n\r\nconst getOverview = catchAsync(async (req, res, next) => {\r\n  // 1) get tour data from collection\r\n  const tours = await Tour.find();\r\n\r\n  // 2) Build template\r\n  // 3) Render that template using tour data from 1.\r\n  res.status(200).render(\"overview\", {\r\n    title: \"All Tours\",\r\n    tours,\r\n  });\r\n});\r\n\r\nconst getTour = catchAsync(async (req, res) => {\r\n  const tour = await Tour.findOne({ slug: req.params.slug }).populate({\r\n    path: \"reviews\",\r\n    fields: \"review rating user\",\r\n  });\r\n\r\n  res.status(200).render(\"tour\", {\r\n    title: \"The see explore\",\r\n    tour,\r\n  });\r\n});\r\n\r\nmodule.exports = {\r\n  getOverview,\r\n  getTour,\r\n};\r\n"],"file":"viewController.dev.js"}