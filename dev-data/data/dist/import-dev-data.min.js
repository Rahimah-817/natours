"use strict";var fs=require("fs"),mongoose=require("mongoose"),Tour=require("../../model/tourSchema"),User=require("../../model/userSchema"),Review=require("../../model/reviewSchema"),dotenv=require("dotenv");dotenv.config({path:"./config.env"});var connectDB=function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(mongoose.connect(process.env.LOCAL_DATABASE));case 3:e.sent,console.log("MongoDB Connected successfully!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error: ".concat(e.t0.message));case 10:case"end":return e.stop()}},null,null,[[0,7]])};connectDB();var tours=JSON.parse(fs.readFileSync("".concat(__dirname,"/tours.json"),"utf-8")),users=JSON.parse(fs.readFileSync("".concat(__dirname,"/users.json"),"utf-8")),reviews=JSON.parse(fs.readFileSync("".concat(__dirname,"/reviews.json"),"utf-8")),importData=function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Tour.create(tours));case 3:return e.next=5,regeneratorRuntime.awrap(User.create(users,{validateBeforeSave:!1}));case 5:return e.next=7,regeneratorRuntime.awrap(Review.create(reviews));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:process.exit();case 13:case"end":return e.stop()}},null,null,[[0,9]])},deleteData=function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Tour.deleteMany({},{timeout:3e4}));case 3:return e.next=5,regeneratorRuntime.awrap(User.deleteMany({},{timeout:3e4}));case 5:return e.next=7,regeneratorRuntime.awrap(Review.deleteMany({},{timeout:3e4}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:process.exit();case 13:case"end":return e.stop()}},null,null,[[0,9]])};"--import"===process.argv[2]?importData():"--delete"===process.argv[2]&&deleteData();
//# sourceMappingURL=import-dev-data.min.js.map
